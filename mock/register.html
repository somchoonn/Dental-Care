<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô | Dentalcare Clinic</title>
  <link rel="stylesheet" href="styles2.css"/>
  <style>
    .relative{position:relative}
    .toggle{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:0;cursor:pointer;opacity:.75}
    .toggle:hover{opacity:1}
    .bar{height:8px;background:#e8f4fd;border-radius:999px;overflow:hidden;margin-top:6px}
    .bar span{display:block;height:100%;width:0;background:#22c55e;transition:width .25s}
  </style>
</head>
<body>
<main>
  <section class="wrap">
    <!-- Brand -->
    <div class="brand">
      <div class="logo"><img src="logo.png" alt="Dentalcare Logo"></div>
      <div>
        <h1>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h1>
        <p class="sub">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°</p>
      </div>
    </div>

    <!-- Card -->
    <div class="card">
      <form id="registerForm" oninput="updateStrength('password')" onsubmit="return handleRegister(event)">
        <div class="grid-2">
          <div>
            <label for="prefix">‡∏Ñ‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏∑‡πà‡∏≠</label>
            <select id="prefix" name="prefix" required>
              <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
              <option>‡∏ô‡∏≤‡∏¢</option>
              <option>‡∏ô‡∏≤‡∏á</option>
              <option>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option>
            </select>
          </div>
          <div>
            <label for="gender">‡πÄ‡∏û‡∏®</label>
            <select id="gender" name="gender" required>
              <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
              <option>‡∏ä‡∏≤‡∏¢</option>
              <option>‡∏´‡∏ç‡∏¥‡∏á</option>
              <option>‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</option>
            </select>
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label for="fname">‡∏ä‡∏∑‡πà‡∏≠</label>
            <input type="text" id="fname" name="fname" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á">
          </div>
          <div>
            <label for="lname">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
            <input type="text" id="lname" name="lname" required placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label for="dob">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label>
            <input type="date" id="dob" name="dob" required>
          </div>
          <div>
            <label for="status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û</label>
            <select id="status" name="status" required>
              <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
              <option>‡πÇ‡∏™‡∏î</option>
              <option>‡∏™‡∏°‡∏£‡∏™</option>
              <option>‡∏´‡∏¢‡πà‡∏≤</option>
              <option>‡∏´‡∏°‡πâ‡∏≤‡∏¢</option>
              <option>‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</option>
            </select>
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label for="race">‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥</label>
            <input type="text" id="race" name="race" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏ó‡∏¢ ‡∏à‡∏µ‡∏ô ‡∏Ø‡∏•‡∏Ø">
          </div>
          <div>
            <label for="nationality">‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏¥</label>
            <input type="text" id="nationality" name="nationality" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏ó‡∏¢">
          </div>
        </div>

        <div>
          <label for="religion">‡∏®‡∏≤‡∏™‡∏ô‡∏≤</label>
          <input type="text" id="religion" name="religion" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏∏‡∏ó‡∏ò ‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå ‡∏≠‡∏¥‡∏™‡∏•‡∏≤‡∏°">
        </div>

        <div>
          <label for="allergy">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏û‡πâ‡∏¢‡∏≤</label>
          <textarea id="allergy" name="allergy" rows="2" placeholder="‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á"></textarea>
        </div>

        <div class="grid-2">
          <div>
            <label for="citizen">‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
            <input type="text" id="citizen" name="citizen" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å 13 ‡∏´‡∏•‡∏±‡∏Å" maxlength="13" inputmode="numeric">
          </div>
          <div>
            <label for="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
            <input type="tel" id="phone" name="phone" placeholder="0xxxxxxxxx" inputmode="tel">
          </div>
        </div>

        <div>
          <label for="email">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
          <input type="email" id="email" name="email" placeholder="name@example.com">
        </div>

        <div class="grid-2">
          <div>
            <label for="password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
            <div class="relative">
              <input type="password" id="password" name="password" required placeholder="‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£">
              <button class="toggle" type="button" onclick="toggleVisibility('password')">üëÅÔ∏è</button>
            </div>
            <div class="bar"><span id="bar"></span></div>
          </div>
          <div>
            <label for="confirm">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
            <div class="relative">
              <input type="password" id="confirm" name="confirm" required placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á">
              <button class="toggle" type="button" onclick="toggleVisibility('confirm')">üëÅÔ∏è</button>
            </div>
          </div>
        </div>

        <label class="accept" style="margin-top:12px;">
          <input type="checkbox" name="agree" id="agree" value="1" required>
          <span>‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö <a class="link" href="https://www.ratchakitcha.soc.go.th/DATA/PDF/2562/A/069/T_0052.PDF" target="_blank" rel="noopener">‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a></span>
        </label>

        <div class="actions" style="margin-top:16px;">
          <button class="primary" type="submit">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</button>
          <a class="link" href="login.html">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
        </div>
      </form>
    </div>
  </section>
</main>

<script>
/* ===== Helpers ===== */
function isValidThaiID(id){
  if(!/^\d{13}$/.test(id)) return false;
  const d = id.split('').map(Number);
  const sum = d.slice(0,12).reduce((a,x,i)=>a + x*(13-i), 0);
  const check = (11 - (sum % 11)) % 10;
  return check === d[12];
}
function strength(pw){
  let s = 0;
  if (pw.length >= 8) s++;
  if (/[A-Z‡∏Å-‡∏Æ]/.test(pw)) s++;
  if (/[a-z]/.test(pw)) s++;
  if (/[0-9]/.test(pw)) s++;
  if (/[^A-Za-z0-9]/.test(pw)) s++;
  return Math.min(s, 4);
}
function toggleVisibility(id){
  const el = document.getElementById(id);
  el.type = el.type === 'password' ? 'text' : 'password';
}
function updateStrength(id){
  const el = document.getElementById(id);
  const bar = document.getElementById('bar');
  if(!el || !bar) return;
  const s = strength(el.value);
  bar.style.width = ['0%','25%','50%','75%','100%'][s];
}

/* ===== Submit ===== */
function handleRegister(evt){
  const f = evt.target;
  const errors = [];

  const citizen = f.citizen.value.trim();
  const phone   = (f.phone.value||'').trim();
  const email   = (f.email.value||'').trim();
  const pw      = f.password.value;
  const cf      = f.confirm.value;
  const agree   = f.agree.checked;

  if(!isValidThaiID(citizen)) errors.push('‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á 13 ‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏•‡∏Ç‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)');
  if(phone && !/^\+?\d{8,15}$/.test(phone)) errors.push('‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
  if(email && !/^([^\s@]+)@([^\s@]+)\.[^\s@]+$/.test(email)) errors.push('‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
  if(pw.length < 8) errors.push('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£');
  if(pw !== cf) errors.push('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô');
  if(!agree) errors.push('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß');

  if(errors.length){
    evt.preventDefault();
    alert(errors.join('\n'));
    return false;
  }

  // ‡πÄ‡∏î‡πÇ‡∏°: ‡πÅ‡∏Ñ‡πà‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
  evt.preventDefault();
  alert('‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÄ‡∏î‡πÇ‡∏°)');
  f.reset();
  updateStrength('password');
  return false;
}
</script>
</body>
</html>
